{% extends 'base.html' %}
{% block title %}Booking Confirmation{% endblock %}

{% block section %}
<style>
  body {
    background: radial-gradient(circle at top, #111 0%, #000 100%);
    color: #fff;
  }

  .ticket-card {
    background: linear-gradient(145deg, #1c1c1c, #111);
    border: 2px solid #ffb703;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(255, 183, 3, 0.3);
    padding: 40px;
    max-width: 600px;
    margin: auto;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .ticket-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: -75%;
    width: 50%;
    height: 100%;
    background: rgba(255, 255, 255, 0.05);
    transform: skewX(-25deg);
  }

  .ticket-header {
    color: #ffb703;
    font-size: 2rem;
    font-weight: bold;
    letter-spacing: 1px;
    margin-bottom: 20px;
  }

  .ticket-details p {
    font-size: 1.1rem;
    margin: 8px 0;
  }

  .divider {
    width: 100%;
    height: 1px;
    background: linear-gradient(to right, transparent, #ffb703, transparent);
    margin: 20px 0;
  }

  .btn-book-again {
    background: #ffb703;
    color: #000;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    padding: 10px 30px;
    transition: all 0.3s ease;
  }

  .btn-book-again:hover {
    background: #ffc857;
    transform: scale(1.05);
  }

  .glow {
    animation: glow 1.5s infinite alternate;
  }

  @keyframes glow {
    from { text-shadow: 0 0 10px #ffb703, 0 0 20px #ffb703; }
    to { text-shadow: 0 0 20px #ffd166, 0 0 40px #ffd166; }
  }
</style>

<div class="container my-5">
  <div class="ticket-card">
    <h2 class="ticket-header glow">ğŸ¬ Booking Confirmed!</h2>

    <div class="ticket-details text-start">
      <p><strong>ğŸï¸ Movie:</strong> {{ booking.showtime.movie.title }}</p>
      <p><strong>ğŸ›ï¸ Theater:</strong> {{ booking.showtime.theater.name }}</p>
      <p><strong>ğŸ•’ Showtime:</strong> {{ booking.showtime.show_time }} | {{ booking.showtime.show_date }}</p>
      <p><strong>ğŸ’º Seats:</strong> {{ booking.seats }}</p>
      <p><strong>ğŸ’° Total Price:</strong> â‚¹{{ booking.total_price }}</p>
    </div>

    <div class="divider"></div>

    {% if booking.payment_method == 'Online' %}
      <h5 class="text-success mb-3">âœ… Payment Successful</h5>
      <p class="text-secondary">Your ticket has been booked successfully.</p>
    {% else %}
      <h5 class="text-warning mb-3">ğŸ’¸ Payment Pending (Pay at Counter)</h5>
      <p class="text-secondary">Please pay at the theater counter to confirm your seat.</p>
    {% endif %}

    <a href="{% url 'home' %}" class="btn btn-book-again mt-3">Book Another Ticket</a>
  </div>
</div>
{% endblock %}
